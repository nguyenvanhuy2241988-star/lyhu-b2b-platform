(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{4935:function(e,t,n){Promise.resolve().then(n.bind(n,8900))},7461:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(4090),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let n=(0,s.forwardRef)((n,l)=>{let{color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:m="",children:u,...h}=n;return(0,s.createElement)("svg",{ref:l,...a,width:i,height:i,stroke:o,strokeWidth:d?24*Number(c)/Number(i):c,className:["lucide","lucide-".concat(r(e)),m].join(" "),...h},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(u)?u:[u]])});return n.displayName="".concat(e),n}},699:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},3854:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},2235:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7907:function(e,t,n){"use strict";var s=n(5313);n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}})},8900:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(3827),a=n(4090),r=n(7907),l=n(3854),o=n(699),i=n(2235),c=n(9860);let d=["Tạp h\xf3a","Mini mart","Đại l\xfd","NPP","Si\xeau thị"],m=["Quận 1, TP.HCM","Quận 3, TP.HCM","Quận 5, TP.HCM","Quận 7, TP.HCM","B\xecnh Dương","Đồng Nai","Long An"];function u(){let e=(0,r.useRouter)(),[t,n]=(0,a.useState)({storeName:"",contactName:"",phone:"",area:"",type:"Tạp h\xf3a",estimatedRevenue:"",notes:"",expectedVolume:""}),[u,h]=(0,a.useState)({}),[p,x]=(0,a.useState)(!1),N=e=>{let{name:t,value:s}=e.target;n(e=>({...e,[t]:s})),u[t]&&h(e=>({...e,[t]:""}))},g=()=>{let e={};return t.storeName.trim()||(e.storeName="Vui l\xf2ng nhập t\xean cửa h\xe0ng"),t.contactName.trim()||(e.contactName="Vui l\xf2ng nhập người li\xean hệ"),t.phone.trim()?/^[0-9]{10,11}$/.test(t.phone.trim())||(e.phone="Số điện thoại kh\xf4ng hợp lệ (10-11 số)"):e.phone="Vui l\xf2ng nhập số điện thoại",t.area||(e.area="Vui l\xf2ng chọn khu vực"),(!t.estimatedRevenue||0>=parseFloat(t.estimatedRevenue))&&(e.estimatedRevenue="Vui l\xf2ng nhập doanh thu dự kiến hợp lệ"),t.expectedVolume&&0>Number(t.expectedVolume)&&(e.expectedVolume="Sản lượng kh\xf4ng được \xe2m"),h(e),0===Object.keys(e).length};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Tạo Lead mới"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Th\xeam th\xf4ng tin kh\xe1ch h\xe0ng tiềm năng"})]}),(0,s.jsxs)("form",{onSubmit:n=>{n.preventDefault(),g()&&(x(!0),(0,c.Ex)({storeName:t.storeName,contactName:t.contactName,phone:t.phone,area:t.area,type:t.type,estimatedRevenue:parseFloat(t.estimatedRevenue),notes:t.notes,expectedVolume:t.expectedVolume?Number(t.expectedVolume):void 0,status:"NEW"}),e.push("/sales/my-leads"))},className:"max-w-3xl",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"p-3 bg-primary-50 rounded-lg",children:(0,s.jsx)(l.Z,{className:"w-6 h-6 text-primary-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900",children:"Th\xf4ng tin Lead"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Điền đầy đủ th\xf4ng tin b\xean dưới"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsxs)("label",{htmlFor:"storeName",className:"block text-sm font-medium text-slate-700 mb-2",children:["T\xean cửa h\xe0ng ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"storeName",name:"storeName",value:t.storeName,onChange:N,className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.storeName?"border-red-500":"border-slate-200"),placeholder:"VD: Si\xeau thị Mini Mart Plus"}),u.storeName&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.storeName})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"contactName",className:"block text-sm font-medium text-slate-700 mb-2",children:["Người li\xean hệ ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"contactName",name:"contactName",value:t.contactName,onChange:N,className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.contactName?"border-red-500":"border-slate-200"),placeholder:"VD: Anh Tuấn"}),u.contactName&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.contactName})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-700 mb-2",children:["Số điện thoại ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:N,className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.phone?"border-red-500":"border-slate-200"),placeholder:"VD: 0912345678"}),u.phone&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"area",className:"block text-sm font-medium text-slate-700 mb-2",children:["Khu vực ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsxs)("select",{id:"area",name:"area",value:t.area,onChange:N,className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.area?"border-red-500":"border-slate-200"),children:[(0,s.jsx)("option",{value:"",children:"-- Chọn khu vực --"}),m.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),u.area&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.area})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-2",children:["Loại kh\xe1ch ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("select",{id:"type",name:"type",value:t.type,onChange:N,className:"w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:d.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsxs)("label",{htmlFor:"estimatedRevenue",className:"block text-sm font-medium text-slate-700 mb-2",children:["Doanh thu dự kiến/th\xe1ng (VNĐ) ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("input",{type:"number",id:"estimatedRevenue",name:"estimatedRevenue",value:t.estimatedRevenue,onChange:N,className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.estimatedRevenue?"border-red-500":"border-slate-200"),placeholder:"VD: 15000000",min:"0",step:"100000"}),u.estimatedRevenue&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.estimatedRevenue})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"expectedVolume",className:"block text-sm font-medium text-slate-700 mb-2",children:"Sản lượng dự kiến"}),(0,s.jsx)("input",{type:"number",id:"expectedVolume",name:"expectedVolume",value:t.expectedVolume,onChange:N,min:"0",className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.expectedVolume?"border-red-500":"border-slate-200"),placeholder:"VD: 50 (th\xf9ng/th\xe1ng)"}),u.expectedVolume&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.expectedVolume})]}),(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-700 mb-2",children:"Ghi ch\xfa Lead"}),(0,s.jsx)("textarea",{id:"notes",name:"notes",value:t.notes,onChange:N,rows:4,className:"w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",placeholder:"Ghi ch\xfa th\xeam về lead n\xe0y..."})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-6 pt-6 border-t border-slate-200",children:[(0,s.jsxs)("button",{type:"submit",disabled:p,className:"flex-1 sm:flex-none px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-semibold transition-colors flex items-center justify-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:[(0,s.jsx)(o.Z,{className:"w-5 h-5"}),p?"Đang xử l\xfd...":"Tạo Lead"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{n({storeName:"",contactName:"",phone:"",area:"",type:"Tạp h\xf3a",estimatedRevenue:"",notes:"",expectedVolume:""}),h({})},className:"flex-1 sm:flex-none px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5"}),"Hủy"]})]})]}),(0,s.jsx)("div",{className:"mt-4 bg-primary-50 border border-primary-200 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-primary-700",children:[(0,s.jsx)("strong",{children:"\uD83D\uDCA1 Lưu \xfd:"}),' Lead mới sẽ c\xf3 trạng th\xe1i "Mới". Bạn c\xf3 thể cập nhật trạng th\xe1i sau khi li\xean hệ với kh\xe1ch h\xe0ng.']})})]})]})}},9860:function(e,t,n){"use strict";n.d(t,{Cn:function(){return c},Ex:function(){return o},g0:function(){return r},se:function(){return i}});let s="lyhu_sales_leads_v1";function a(){return[{id:"1",storeName:"Si\xeau thị Mini Mart Plus",contactName:"Anh Tuấn",phone:"0901234567",area:"Quận 1, TP.HCM",type:"Mini mart",status:"IN_PROGRESS",estimatedRevenue:15e6,notes:"Đang đ\xe0m ph\xe1n hợp đồng d\xe0i hạn",expectedVolume:100,createdAt:"2024-11-28T00:00:00.000Z"},{id:"2",storeName:"NPP Ho\xe0ng Gia",contactName:"Chị Lan",phone:"0912345678",area:"B\xecnh Dương",type:"NPP",status:"WON",estimatedRevenue:5e7,notes:"Đ\xe3 k\xfd hợp đồng 6 th\xe1ng",expectedVolume:500,createdAt:"2024-11-25T00:00:00.000Z"},{id:"3",storeName:"Tạp h\xf3a Phương Nam",contactName:"Anh Minh",phone:"0923456789",area:"Quận 3, TP.HCM",type:"Tạp h\xf3a",status:"NEW",estimatedRevenue:8e6,notes:"Mới tiếp cận, chưa li\xean hệ",expectedVolume:30,createdAt:"2024-11-29T00:00:00.000Z"},{id:"4",storeName:"Đại l\xfd Minh Khang",contactName:"Chị Hương",phone:"0934567890",area:"Đồng Nai",type:"Đại l\xfd",status:"CONTACTED",estimatedRevenue:25e6,notes:"Đ\xe3 gọi điện, hẹn gặp tuần sau",expectedVolume:150,createdAt:"2024-11-27T00:00:00.000Z"},{id:"5",storeName:"Si\xeau thị S\xe0i G\xf2n Co.op",contactName:"Anh Đức",phone:"0945678901",area:"Quận 7, TP.HCM",type:"Si\xeau thị",status:"LOST",estimatedRevenue:3e7,notes:"Đ\xe3 chọn nh\xe0 cung cấp kh\xe1c",expectedVolume:200,createdAt:"2024-11-20T00:00:00.000Z"}]}function r(){let e=window.localStorage.getItem(s);if(!e)return a();try{let t=JSON.parse(e);if(!Array.isArray(t))return a();return t}catch(e){return a()}}function l(e){window.localStorage.setItem(s,JSON.stringify(e))}function o(e){let t=r(),n=[{id:Date.now().toString(),...e,status:e.status||"NEW",createdAt:new Date().toISOString()},...t];return l(n),n}function i(e,t){let n=r().map(n=>n.id===e?{...n,status:t}:n);return l(n),n}function c(e){let t=e.length,n=e.filter(e=>"CONTACTED"===e.status||"IN_PROGRESS"===e.status).length;return{total:t,inProgress:n,won:e.filter(e=>"WON"===e.status).length,estimatedRevenue:e.reduce((e,t)=>e+t.estimatedRevenue,0),totalExpectedVolume:e.reduce((e,t)=>e+(t.expectedVolume||0),0)}}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=4935)}),_N_E=e.O()}]);
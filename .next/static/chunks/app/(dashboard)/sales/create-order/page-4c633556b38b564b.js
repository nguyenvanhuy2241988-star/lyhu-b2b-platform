(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{1290:function(e,t,n){Promise.resolve().then(n.bind(n,4570))},7461:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(4090),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let n=(0,a.forwardRef)((n,i)=>{let{color:l="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:m="",children:h,...u}=n;return(0,a.createElement)("svg",{ref:i,...s,width:c,height:c,stroke:l,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(r(e)),m].join(" "),...u},[...t.map(e=>{let[t,n]=e;return(0,a.createElement)(t,n)}),...Array.isArray(h)?h:[h]])});return n.displayName="".concat(e),n}},6578:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(7461).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7271:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(7461).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},94:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2800:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(7461).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},489:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(7461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1213:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,n(7461).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4570:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(3827),s=n(4090),r=n(3047),i=n(6578),l=n(1213),c=n(94),o=n(7271),d=n(489),m=n(2800),h=n(9860);let u=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function x(){let[e,t]=(0,s.useState)(null),[n,x]=(0,s.useState)([]),[p,g]=(0,s.useState)(1),N=e=>{let n=r.qe.find(t=>t.id===e);t(n||null),n&&g(2)},b=e=>{n.find(t=>t.product.id===e.id)?x(t=>t.map(t=>t.product.id===e.id?{...t,quantity:t.quantity+1}:t)):x(t=>[...t,{product:e,quantity:1}])},y=(e,t)=>{x(n=>n.map(n=>{if(n.product.id===e){let e=Math.max(1,n.quantity+t);return{...n,quantity:e}}return n}))},f=e=>{x(t=>t.filter(t=>t.product.id!==e))},j=()=>n.reduce((e,t)=>e+t.product.wholesalePrice*t.quantity,0),v=()=>{t(null),x([]),g(1)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Tạo đơn h\xe0ng"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Tạo đơn h\xe0ng hộ kh\xe1ch h\xe0ng"})]}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold ".concat(p>=1?"bg-primary-500 text-white":"bg-slate-100 text-slate-400"),children:p>1?(0,a.jsx)(i.Z,{className:"w-5 h-5"}):"1"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-slate-900",children:"Chọn kh\xe1ch h\xe0ng"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Kh\xe1ch cần đặt h\xe0ng"})]})]}),(0,a.jsx)("div",{className:"hidden sm:block w-12 h-0.5 bg-slate-200"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold ".concat(p>=2?"bg-primary-500 text-white":"bg-slate-100 text-slate-400"),children:p>2?(0,a.jsx)(i.Z,{className:"w-5 h-5"}):"2"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-slate-900",children:"Chọn sản phẩm"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Th\xeam v\xe0o đơn"})]})]}),(0,a.jsx)("div",{className:"hidden sm:block w-12 h-0.5 bg-slate-200"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold ".concat(p>=3&&n.length>0?"bg-primary-500 text-white":"bg-slate-100 text-slate-400"),children:"3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-slate-900",children:"X\xe1c nhận"}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Tạo đơn h\xe0ng"})]})]})]})}),1===p&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-900 mb-4",children:"Chọn kh\xe1ch h\xe0ng"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.qe.map(e=>(0,a.jsx)("button",{onClick:()=>N(e.id),className:"p-4 border border-slate-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all text-left group",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"p-2 bg-slate-100 group-hover:bg-primary-100 rounded-lg transition-colors",children:(0,a.jsx)(l.Z,{className:"w-5 h-5 text-slate-600 group-hover:text-primary-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-medium text-slate-900 mb-1 truncate",children:e.storeName}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[e.type," • ",e.area]})]})]})},e.id))})]}),p>=2&&e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-primary-50 border border-primary-200 p-4 rounded-lg flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-primary-700 font-medium",children:"Kh\xe1ch h\xe0ng đ\xe3 chọn:"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-primary-900",children:e.storeName}),(0,a.jsxs)("p",{className:"text-xs text-primary-600 mt-1",children:[e.type," • ",e.area]})]}),(0,a.jsx)("button",{onClick:v,className:"px-4 py-2 bg-white text-primary-700 border border-primary-300 rounded-lg text-sm font-medium hover:bg-primary-100 transition-colors",children:"Đổi kh\xe1ch"})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-900 mb-4",children:"Chọn sản phẩm"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:r.ku.map(e=>{let t=n.find(t=>t.product.id===e.id),s={UHI:"bg-orange-500",BOYO:"bg-purple-500",CVT:"bg-blue-500",LYHU:"bg-primary-500"}[e.brand]||"bg-primary-500";return(0,a.jsxs)("div",{className:"p-4 border rounded-lg ".concat(t?"border-primary-500 bg-primary-50":"border-slate-200"),children:[(0,a.jsx)("span",{className:"inline-block ".concat(s," text-white text-xs font-semibold px-2 py-1 rounded mb-2"),children:e.brand}),(0,a.jsx)("h4",{className:"font-medium text-slate-900 text-sm mb-2 line-clamp-2 min-h-[2.5rem]",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 mb-2",children:["SKU: ",e.sku]}),(0,a.jsx)("p",{className:"text-lg font-bold text-slate-900 mb-3",children:u(e.wholesalePrice)}),(0,a.jsxs)("button",{onClick:()=>b(e),className:"w-full py-2 rounded-lg font-medium text-sm flex items-center justify-center gap-2 transition-colors ".concat(t?"bg-primary-600 text-white hover:bg-primary-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"),children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),t?"Đ\xe3 th\xeam (".concat(t.quantity,")"):"Th\xeam v\xe0o đơn"]})]},e.id)})})]}),n.length>0&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[(0,a.jsxs)("h3",{className:"font-semibold text-slate-900 mb-4",children:["Đơn h\xe0ng (",n.length," sản phẩm)"]}),(0,a.jsx)("div",{className:"space-y-3 mb-6",children:n.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h4",{className:"font-medium text-slate-900 text-sm",children:e.product.name}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[u(e.product.wholesalePrice)," \xd7 ",e.quantity]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>y(e.product.id,-1),disabled:e.quantity<=1,className:"p-1.5 hover:bg-white rounded transition-colors disabled:opacity-50",children:(0,a.jsx)(o.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"w-8 text-center font-semibold",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>y(e.product.id,1),className:"p-1.5 hover:bg-white rounded transition-colors",children:(0,a.jsx)(c.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("p",{className:"font-semibold text-slate-900",children:u(e.product.wholesalePrice*e.quantity)})}),(0,a.jsx)("button",{onClick:()=>f(e.product.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:(0,a.jsx)(d.Z,{className:"w-4 h-4"})})]},e.product.id))}),(0,a.jsxs)("div",{className:"border-t border-slate-200 pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-slate-900",children:"Tổng cộng:"}),(0,a.jsx)("span",{className:"text-2xl font-bold text-primary-600",children:u(j())})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:v,className:"flex-1 px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-semibold transition-colors",children:"Hủy"}),(0,a.jsxs)("button",{onClick:()=>{if(!e)return;let a=j();console.log("Creating order:",{customer:e,items:n.map(e=>({productId:e.product.id,productName:e.product.name,sku:e.product.sku,quantity:e.quantity,price:e.product.wholesalePrice,total:e.product.wholesalePrice*e.quantity})),total:a,createdAt:new Date().toISOString(),createdBy:"Sales Rep"}),(0,h.Ex)({storeName:e.storeName,contactName:e.storeName,phone:e.phone,area:e.area,type:e.type,status:"WON",estimatedRevenue:a,notes:"Đơn h\xe0ng mới: ".concat(n.length," sản phẩm")}),alert("✅ Tạo đơn h\xe0ng th\xe0nh c\xf4ng!\n\nDashboard đ\xe3 được cập nhật."),t(null),x([]),g(1)},className:"flex-1 px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5"}),"Tạo đơn h\xe0ng"]})]})]})]})]})]})}},9860:function(e,t,n){"use strict";n.d(t,{Cn:function(){return o},Ex:function(){return l},g0:function(){return r},se:function(){return c}});let a="lyhu_sales_leads_v1";function s(){return[{id:"1",storeName:"Si\xeau thị Mini Mart Plus",contactName:"Anh Tuấn",phone:"0901234567",area:"Quận 1, TP.HCM",type:"Mini mart",status:"IN_PROGRESS",estimatedRevenue:15e6,notes:"Đang đ\xe0m ph\xe1n hợp đồng d\xe0i hạn",expectedVolume:100,createdAt:"2024-11-28T00:00:00.000Z"},{id:"2",storeName:"NPP Ho\xe0ng Gia",contactName:"Chị Lan",phone:"0912345678",area:"B\xecnh Dương",type:"NPP",status:"WON",estimatedRevenue:5e7,notes:"Đ\xe3 k\xfd hợp đồng 6 th\xe1ng",expectedVolume:500,createdAt:"2024-11-25T00:00:00.000Z"},{id:"3",storeName:"Tạp h\xf3a Phương Nam",contactName:"Anh Minh",phone:"0923456789",area:"Quận 3, TP.HCM",type:"Tạp h\xf3a",status:"NEW",estimatedRevenue:8e6,notes:"Mới tiếp cận, chưa li\xean hệ",expectedVolume:30,createdAt:"2024-11-29T00:00:00.000Z"},{id:"4",storeName:"Đại l\xfd Minh Khang",contactName:"Chị Hương",phone:"0934567890",area:"Đồng Nai",type:"Đại l\xfd",status:"CONTACTED",estimatedRevenue:25e6,notes:"Đ\xe3 gọi điện, hẹn gặp tuần sau",expectedVolume:150,createdAt:"2024-11-27T00:00:00.000Z"},{id:"5",storeName:"Si\xeau thị S\xe0i G\xf2n Co.op",contactName:"Anh Đức",phone:"0945678901",area:"Quận 7, TP.HCM",type:"Si\xeau thị",status:"LOST",estimatedRevenue:3e7,notes:"Đ\xe3 chọn nh\xe0 cung cấp kh\xe1c",expectedVolume:200,createdAt:"2024-11-20T00:00:00.000Z"}]}function r(){let e=window.localStorage.getItem(a);if(!e)return s();try{let t=JSON.parse(e);if(!Array.isArray(t))return s();return t}catch(e){return s()}}function i(e){window.localStorage.setItem(a,JSON.stringify(e))}function l(e){let t=r(),n=[{id:Date.now().toString(),...e,status:e.status||"NEW",createdAt:new Date().toISOString()},...t];return i(n),n}function c(e,t){let n=r().map(n=>n.id===e?{...n,status:t}:n);return i(n),n}function o(e){let t=e.length,n=e.filter(e=>"CONTACTED"===e.status||"IN_PROGRESS"===e.status).length;return{total:t,inProgress:n,won:e.filter(e=>"WON"===e.status).length,estimatedRevenue:e.reduce((e,t)=>e+t.estimatedRevenue,0),totalExpectedVolume:e.reduce((e,t)=>e+(t.expectedVolume||0),0)}}},3047:function(e,t,n){"use strict";n.d(t,{bs:function(){return a},ku:function(){return r},qe:function(){return s}});let a=[{id:"1",name:"Nguyễn Văn An",email:"an.nguyen@lyhu.com",role:"admin",status:"active",createdAt:"2024-01-15"},{id:"2",name:"Trần Thị B\xecnh",email:"binh.tran@lyhu.com",role:"sales",status:"active",createdAt:"2024-02-20"},{id:"3",name:"L\xea Văn Cường",email:"cuong.le@gmail.com",role:"customer",status:"active",createdAt:"2024-03-10"},{id:"4",name:"Phạm Thị Dung",email:"dung.pham@lyhu.com",role:"ctv",status:"active",createdAt:"2024-04-05"},{id:"5",name:"Ho\xe0ng Văn Em",email:"em.hoang@gmail.com",role:"customer",status:"inactive",createdAt:"2024-05-12"}],s=[{id:"1",storeName:"Tạp h\xf3a H\xf9ng Vương",type:"Tạp h\xf3a",area:"Quận 1, TP.HCM",phone:"0901234567",email:"hungvuong@gmail.com",address:"123 L\xea Lợi, Quận 1"},{id:"2",storeName:"Mini Mart S\xe0i G\xf2n",type:"Mini mart",area:"Quận 3, TP.HCM",phone:"0902345678",email:"minimart.sg@gmail.com",address:"456 V\xf5 Văn Tần, Quận 3"},{id:"3",storeName:"Đại l\xfd Minh Khang",type:"Đại l\xfd",area:"Quận 5, TP.HCM",phone:"0903456789",email:"minhkhang@gmail.com",address:"789 An Dương Vương, Quận 5"},{id:"4",storeName:"NPP Phương Nam",type:"NPP",area:"B\xecnh Dương",phone:"0904567890",email:"phuongnam.npp@gmail.com",address:"321 Đại Lộ B\xecnh Dương, B\xecnh Dương"},{id:"5",storeName:"Tạp h\xf3a B\xe1ch Ho\xe1 Xanh",type:"Tạp h\xf3a",area:"Quận 7, TP.HCM",phone:"0905678901",email:"bhx@gmail.com",address:"654 Nguyễn Hữu Thọ, Quận 7"},{id:"6",storeName:"Mini Mart GS25",type:"Mini mart",area:"Quận 2, TP.HCM",phone:"0906789012",email:"gs25@gmail.com",address:"987 Trần N\xe3o, Quận 2"},{id:"7",storeName:"Đại l\xfd Th\xe0nh Đạt",type:"Đại l\xfd",area:"Đồng Nai",phone:"0907890123",email:"thanhdat@gmail.com",address:"147 Quốc lộ 1A, Đồng Nai"},{id:"8",storeName:"NPP Vạn Lộc",type:"NPP",area:"Long An",phone:"0908901234",email:"vanloc.npp@gmail.com",address:"258 H\xf9ng Vương, Long An"}],r=[{id:"1",sku:"UHI-001",name:"Nước tăng lực UHI Energy 330ml",brand:"UHI",unit:"Lon",wholesalePrice:8500,retailPrice:1e4,stock:500},{id:"2",sku:"BOYO-001",name:"Sữa chua uống BOYO D\xe2u 180ml",brand:"BOYO",unit:"Chai",wholesalePrice:6e3,retailPrice:7500,stock:800},{id:"3",sku:"CVT-001",name:"Nước kho\xe1ng CVT 500ml",brand:"CVT",unit:"Chai",wholesalePrice:3e3,retailPrice:4e3,stock:1200},{id:"4",sku:"LYHU-001",name:"Tr\xe0 xanh LYHU Premium 450ml",brand:"LYHU",unit:"Chai",wholesalePrice:7e3,retailPrice:9e3,stock:600},{id:"5",sku:"UHI-002",name:"Nước tăng lực UHI Plus 500ml",brand:"UHI",unit:"Lon",wholesalePrice:12e3,retailPrice:15e3,stock:300},{id:"6",sku:"BOYO-002",name:"Sữa chua uống BOYO Việt Quất 180ml",brand:"BOYO",unit:"Chai",wholesalePrice:6500,retailPrice:8e3,stock:750},{id:"7",sku:"CVT-002",name:"Nước kho\xe1ng CVT 1.5L",brand:"CVT",unit:"Chai",wholesalePrice:7500,retailPrice:9e3,stock:400},{id:"8",sku:"LYHU-002",name:"Tr\xe0 đ\xe0o LYHU Deluxe 450ml",brand:"LYHU",unit:"Chai",wholesalePrice:8e3,retailPrice:1e4,stock:550}];r[0],r[1],r[2]}},function(e){e.O(0,[971,69,744],function(){return e(e.s=1290)}),_N_E=e.O()}]);
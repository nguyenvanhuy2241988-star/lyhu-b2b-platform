(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{7352:function(e,t,n){Promise.resolve().then(n.bind(n,7560))},7461:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(4090),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let n=(0,s.forwardRef)((n,o)=>{let{color:l="currentColor",size:c=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:m="",children:u,...h}=n;return(0,s.createElement)("svg",{ref:o,...r,width:c,height:c,stroke:l,strokeWidth:d?24*Number(i)/Number(c):i,className:["lucide","lucide-".concat(a(e)),m].join(" "),...h},[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(u)?u:[u]])});return n.displayName="".concat(e),n}},699:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},3854:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},2235:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7907:function(e,t,n){"use strict";var s=n(5313);n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}})},7560:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(3827),r=n(4090),a=n(7907),o=n(3854),l=n(699),c=n(2235),i=n(187);let d=["Tạp h\xf3a","Mini mart","Đại l\xfd","NPP"],m=["H\xe0 Đ\xf4ng, H\xe0 Nội","Thanh Xu\xe2n, H\xe0 Nội","Cầu Giấy, H\xe0 Nội","Đống Đa, H\xe0 Nội","Long Bi\xean, H\xe0 Nội","Ho\xe0n Kiếm, H\xe0 Nội"];function u(){let e=(0,a.useRouter)(),[t,n]=(0,r.useState)({storeName:"",contactPerson:"",phone:"",area:"",type:"Tạp h\xf3a",notes:"",expectedVolume:""}),[u,h]=(0,r.useState)({}),p=e=>{let{name:t,value:s}=e.target;n(e=>({...e,[t]:s})),u[t]&&h(e=>({...e,[t]:""}))},x=()=>{let e={};return t.storeName.trim()||(e.storeName="Vui l\xf2ng nhập t\xean cửa h\xe0ng"),t.contactPerson.trim()||(e.contactPerson="Vui l\xf2ng nhập người li\xean hệ"),t.phone.trim()?/^[0-9]{10,11}$/.test(t.phone.trim())||(e.phone="Số điện thoại kh\xf4ng hợp lệ (10-11 số)"):e.phone="Vui l\xf2ng nhập số điện thoại",t.area||(e.area="Vui l\xf2ng chọn khu vực"),t.expectedVolume&&0>Number(t.expectedVolume)&&(e.expectedVolume="Sản lượng kh\xf4ng được \xe2m"),h(e),0===Object.keys(e).length};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Tạo Lead mới"}),(0,s.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:"Th\xeam th\xf4ng tin kh\xe1ch h\xe0ng tiềm năng"})]}),(0,s.jsxs)("form",{onSubmit:n=>{n.preventDefault(),x()&&((0,i.JL)({storeName:t.storeName,contactName:t.contactPerson,phone:t.phone,area:t.area,customerType:t.type,notes:t.notes,expectedVolume:t.expectedVolume?Number(t.expectedVolume):void 0}),e.push("/ctv/my-leads"))},className:"max-w-3xl",children:[(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-slate-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,s.jsx)("div",{className:"p-3 bg-primary-50 rounded-lg",children:(0,s.jsx)(o.Z,{className:"w-6 h-6 text-primary-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-900",children:"Th\xf4ng tin Lead"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Điền đầy đủ th\xf4ng tin b\xean dưới"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsxs)("label",{htmlFor:"storeName",className:"block text-sm font-medium text-slate-700 mb-2",children:["T\xean cửa h\xe0ng ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"storeName",name:"storeName",value:t.storeName,onChange:p,className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.storeName?"border-red-500":"border-slate-200"),placeholder:"VD: Tạp h\xf3a Ngọc Lan"}),u.storeName&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.storeName})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"contactPerson",className:"block text-sm font-medium text-slate-700 mb-2",children:["Người li\xean hệ ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("input",{type:"text",id:"contactPerson",name:"contactPerson",value:t.contactPerson,onChange:p,className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.contactPerson?"border-red-500":"border-slate-200"),placeholder:"VD: Chị Lan"}),u.contactPerson&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.contactPerson})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-slate-700 mb-2",children:["Số điện thoại ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:p,className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.phone?"border-red-500":"border-slate-200"),placeholder:"VD: 0912345678"}),u.phone&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.phone})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"area",className:"block text-sm font-medium text-slate-700 mb-2",children:["Khu vực ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsxs)("select",{id:"area",name:"area",value:t.area,onChange:p,className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.area?"border-red-500":"border-slate-200"),children:[(0,s.jsx)("option",{value:"",children:"-- Chọn khu vực --"}),m.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),u.area&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.area})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"type",className:"block text-sm font-medium text-slate-700 mb-2",children:["Loại kh\xe1ch ",(0,s.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,s.jsx)("select",{id:"type",name:"type",value:t.type,onChange:p,className:"w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:d.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"expectedVolume",className:"block text-sm font-medium text-slate-700 mb-2",children:"Sản lượng dự kiến"}),(0,s.jsx)("input",{type:"number",id:"expectedVolume",name:"expectedVolume",value:t.expectedVolume,onChange:p,min:"0",className:"w-full px-4 py-2.5 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 ".concat(u.expectedVolume?"border-red-500":"border-slate-200"),placeholder:"VD: 20 (th\xf9ng/th\xe1ng)"}),u.expectedVolume&&(0,s.jsx)("p",{className:"mt-1 text-xs text-red-600",children:u.expectedVolume})]}),(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-700 mb-2",children:"Ghi ch\xfa Lead"}),(0,s.jsx)("textarea",{id:"notes",name:"notes",value:t.notes,onChange:p,rows:4,className:"w-full px-4 py-2.5 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",placeholder:"Ghi ch\xfa th\xeam về lead n\xe0y..."})]})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mt-6 pt-6 border-t border-slate-200",children:[(0,s.jsxs)("button",{type:"submit",className:"flex-1 sm:flex-none px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(l.Z,{className:"w-5 h-5"}),"Tạo Lead"]}),(0,s.jsxs)("button",{type:"button",onClick:()=>{n({storeName:"",contactPerson:"",phone:"",area:"",type:"Tạp h\xf3a",notes:"",expectedVolume:""}),h({})},className:"flex-1 sm:flex-none px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-5 h-5"}),"Hủy"]})]})]}),(0,s.jsx)("div",{className:"mt-4 bg-primary-50 border border-primary-200 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-sm text-primary-700",children:[(0,s.jsx)("strong",{children:"\uD83D\uDCA1 Lưu \xfd:"}),' Lead mới sẽ c\xf3 trạng th\xe1i "Mới". Bạn c\xf3 thể cập nhật trạng th\xe1i sau khi li\xean hệ với kh\xe1ch h\xe0ng.']})})]})]})}},187:function(e,t,n){"use strict";n.d(t,{JL:function(){return l},Wr:function(){return c},Wt:function(){return a},X7:function(){return i}});let s="LYHU_CTV_LEADS_V1";function r(){return[{id:"1",storeName:"Tạp h\xf3a Ngọc Lan",contactName:"Chị Lan",phone:"0912345678",area:"H\xe0 Đ\xf4ng, H\xe0 Nội",customerType:"Tạp h\xf3a",status:"NEW",notes:"Quan t\xe2m sản phẩm nước giải kh\xe1t",expectedVolume:20,createdAt:"2024-11-29T00:00:00.000Z"},{id:"2",storeName:"Mini Mart Hương Mai",contactName:"Anh Tuấn",phone:"0923456789",area:"Thanh Xu\xe2n, H\xe0 Nội",customerType:"Mini mart",status:"CONTACTED",notes:"Đ\xe3 gọi điện, hẹn gặp tuần sau",expectedVolume:50,createdAt:"2024-11-27T00:00:00.000Z"},{id:"3",storeName:"Đại l\xfd Ho\xe0ng Gia",contactName:"Anh Ho\xe0ng",phone:"0934567890",area:"Cầu Giấy, H\xe0 Nội",customerType:"Đại l\xfd",status:"CONVERTED",notes:"Đ\xe3 k\xfd hợp đồng, chuyển sang Sales",expectedVolume:100,createdAt:"2024-11-25T00:00:00.000Z"},{id:"4",storeName:"Tạp h\xf3a Phương Anh",contactName:"Chị Phương",phone:"0945678901",area:"Đống Đa, H\xe0 Nội",customerType:"Tạp h\xf3a",status:"NEW",notes:"Gặp trực tiếp tại cửa h\xe0ng",expectedVolume:15,createdAt:"2024-11-28T00:00:00.000Z"},{id:"5",storeName:"NPP Miền Bắc",contactName:"Anh Minh",phone:"0956789012",area:"Long Bi\xean, H\xe0 Nội",customerType:"NPP",status:"CONTACTED",notes:"Đang đ\xe0m ph\xe1n điều khoản",expectedVolume:200,createdAt:"2024-11-26T00:00:00.000Z"}]}function a(){let e=window.localStorage.getItem(s);if(!e)return r();try{let t=JSON.parse(e);if(!Array.isArray(t))return r();return t}catch(e){return r()}}function o(e){window.localStorage.setItem(s,JSON.stringify(e))}function l(e){let t=a(),n={id:Date.now().toString(),...e,status:"NEW",createdAt:new Date().toISOString()};return o([n,...t]),n}function c(e,t){let n=a().map(n=>n.id===e?{...n,status:t}:n);return o(n),n}function i(e){let t=e.length,n=e.filter(e=>"NEW"===e.status).length;return{total:t,newCount:n,contactedCount:e.filter(e=>"CONTACTED"===e.status).length,convertedCount:e.filter(e=>"CONVERTED"===e.status).length,totalExpectedVolume:e.reduce((e,t)=>e+(t.expectedVolume||0),0)}}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=7352)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[292],{1642:function(e,t,r){Promise.resolve().then(r.bind(r,877))},877:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var s=r(3827),l=r(9469),n=r(7568),a=r(985);function i(e){let{children:t}=e;return(0,n.x)(a.K.CTV),(0,s.jsx)(l.Z,{role:a.K.CTV,title:"CTV Dashboard",children:t})}},9469:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var s=r(3827),l=r(4090),n=r(7907),a=r(8792),i=r(3167),o=r(1367);function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)((0,i.W)(t))}var u=r(985);function d(e){let{role:t,isOpen:r,onClose:l}=e,i=(0,n.usePathname)(),o=u.c[t]||[];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:c("fixed inset-0 z-40 bg-black/50 transition-opacity lg:hidden",r?"opacity-100":"opacity-0 pointer-events-none"),onClick:l}),(0,s.jsxs)("aside",{className:c("fixed top-0 left-0 z-50 h-screen w-64 bg-white border-r border-slate-200 transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static",r?"translate-x-0":"-translate-x-full"),children:[(0,s.jsx)("div",{className:"flex h-16 items-center justify-center border-b border-slate-200 px-6",children:(0,s.jsx)("h1",{className:"text-2xl font-bold text-primary-500",children:"LYHU"})}),(0,s.jsx)("nav",{className:"p-4 space-y-1",children:o.map(e=>{let t=e.icon,r=i===e.href;return(0,s.jsxs)(a.default,{href:e.href,onClick:l,className:c("flex items-center gap-3 px-4 py-2.5 rounded-lg transition-colors text-sm",r?"bg-primary-50 text-primary-600 font-medium":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"),children:[(0,s.jsx)(t,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:e.label})]},e.href)})})]})]})}var m=r(9744),f=r(3345),h=r(1213),x=r(8793);function b(e){let{onMenuClick:t,title:r="Dashboard"}=e,[a,i]=(0,l.useState)("User Name"),o=(0,n.useRouter)();return(0,l.useEffect)(()=>{let e=(0,x.ts)();(null==e?void 0:e.name)&&i(e.name)},[]),(0,s.jsxs)("header",{className:"h-16 border-b border-slate-200 bg-white px-4 sm:px-6 flex items-center justify-between sticky top-0 z-30",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,s.jsx)("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-lg lg:hidden transition-colors","aria-label":"Toggle Menu",children:(0,s.jsx)(m.Z,{className:"w-6 h-6 text-slate-600"})}),(0,s.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-slate-900",children:r})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,s.jsxs)("button",{className:"p-2 hover:bg-slate-100 rounded-lg relative transition-colors",children:[(0,s.jsx)(f.Z,{className:"w-5 h-5 text-slate-600"}),(0,s.jsx)("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-primary-500 rounded-full border border-white"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 pl-2 sm:pl-4 border-l border-slate-200",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center",children:(0,s.jsx)(h.Z,{className:"w-4 h-4 text-slate-600"})}),(0,s.jsx)("span",{className:"text-sm font-medium text-slate-700 hidden sm:block",children:a}),(0,s.jsx)("button",{onClick:()=>{(0,x.kS)(),o.push("/login")},className:"ml-3 text-xs text-slate-500 hover:text-red-500 underline",children:"Đăng xuất"})]})]})]})}function p(e){let{children:t,role:r,title:a}=e,[i,o]=(0,l.useState)(!1),c=(0,n.useRouter)();return(0,l.useEffect)(()=>{let e=(0,x.ts)();if(!e){c.replace("/login");return}e.role!==r&&c.replace("/login")},[c,r]),(0,s.jsxs)("div",{className:"flex min-h-screen bg-slate-50",children:[(0,s.jsx)(d,{role:r,isOpen:i,onClose:()=>o(!1)}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,s.jsx)(b,{title:a,onMenuClick:()=>o(!0)}),(0,s.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:t})]})]})}},7568:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var s=r(4090),l=r(7907),n=r(8793),a=r(985);let i={[a.K.ADMIN]:"/admin",[a.K.SALES]:"/sales",[a.K.CTV]:"/ctv",[a.K.CUSTOMER]:"/customer"};function o(e){let t=(0,l.useRouter)(),[r,a]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let r=(0,n.ts)();if(!r){t.push("/login");return}if(r.role!==e){let e=i[r.role]||"/login";t.push(e);return}a(!0)},[e,t]),r}},8793:function(e,t,r){"use strict";r.d(t,{So:function(){return a},kS:function(){return c},lx:function(){return i},ts:function(){return o}});var s=r(985);let l="lyhu_current_user",n=[{id:"1",email:"admin@lyhu.vn",name:"Admin LYHU",role:s.K.ADMIN},{id:"2",email:"sales@lyhu.vn",name:"Sales LYHU",role:s.K.SALES},{id:"3",email:"ctv@lyhu.vn",name:"CTV LYHU",role:s.K.CTV},{id:"4",email:"customer@lyhu.vn",name:"Kh\xe1ch h\xe0ng LYHU",role:s.K.CUSTOMER}];function a(e){let t=n.find(t=>t.email===e);return null!=t?t:null}function i(e){if(!e){window.localStorage.removeItem(l);return}window.localStorage.setItem(l,JSON.stringify({id:e.id,email:e.email,name:e.name,role:e.role}))}function o(){let e=window.localStorage.getItem(l);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}}function c(){i(null)}},985:function(e,t,r){"use strict";r.d(t,{K:function(){return d},c:function(){return m}});var s=r(5423),l=r(4059),n=r(5497),a=r(2600),i=r(2800),o=r(9475),c=r(3854),u=r(9925);let d={ADMIN:"admin",CUSTOMER:"customer",SALES:"sales",CTV:"ctv"},m={[d.ADMIN]:[{label:"Dashboard",href:"/admin",icon:s.Z},{label:"Users",href:"/admin/users",icon:l.Z},{label:"Customers",href:"/admin/customers",icon:n.Z},{label:"Products",href:"/admin/products",icon:a.Z}],[d.CUSTOMER]:[{label:"Dashboard",href:"/customer",icon:s.Z},{label:"Catalogue",href:"/customer/catalogue",icon:a.Z},{label:"Cart",href:"/customer/cart",icon:i.Z},{label:"Orders",href:"/customer/orders",icon:o.Z}],[d.SALES]:[{label:"Dashboard",href:"/sales",icon:s.Z},{label:"My Customers",href:"/sales/my-customers",icon:l.Z},{label:"Create Order",href:"/sales/create-order",icon:i.Z}],[d.CTV]:[{label:"Dashboard",href:"/ctv",icon:s.Z},{label:"New Lead",href:"/ctv/new-lead",icon:c.Z},{label:"My Leads",href:"/ctv/my-leads",icon:u.Z}]}}},function(e){e.O(0,[250,991,971,69,744],function(){return e(e.s=1642)}),_N_E=e.O()}]);
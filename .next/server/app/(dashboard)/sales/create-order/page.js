(()=>{var e={};e.id=119,e.ids=[119],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6951:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c});var r=s(482),a=s(9108),l=s(2563),i=s.n(l),n=s(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["(dashboard)",{children:["sales",{children:["create-order",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1933)),"G:\\LYHU\\Projects\\LYHU-app\\src\\app\\(dashboard)\\sales\\create-order\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8193)),"G:\\LYHU\\Projects\\LYHU-app\\src\\app\\(dashboard)\\sales\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,1612)),"G:\\LYHU\\Projects\\LYHU-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],o=["G:\\LYHU\\Projects\\LYHU-app\\src\\app\\(dashboard)\\sales\\create-order\\page.tsx"],x="/(dashboard)/sales/create-order/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/sales/create-order/page",pathname:"/sales/create-order",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4245:(e,t,s)=>{Promise.resolve().then(s.bind(s,7032))},7060:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8452:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},1838:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(9224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7032:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5344),a=s(3729),l=s(4228),i=s(7060),n=s(8822),d=s(1838),c=s(8452),o=s(8271),x=s(2401);let m=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(e);function h(){let[e,t]=(0,a.useState)(null),[s,h]=(0,a.useState)([]),[p,u]=(0,a.useState)(1),b=e=>{let s=l.qe.find(t=>t.id===e);t(s||null),s&&u(2)},g=e=>{s.find(t=>t.product.id===e.id)?h(t=>t.map(t=>t.product.id===e.id?{...t,quantity:t.quantity+1}:t)):h(t=>[...t,{product:e,quantity:1}])},j=(e,t)=>{h(s=>s.map(s=>{if(s.product.id===e){let e=Math.max(1,s.quantity+t);return{...s,quantity:e}}return s}))},y=e=>{h(t=>t.filter(t=>t.product.id!==e))},f=()=>s.reduce((e,t)=>e+t.product.wholesalePrice*t.quantity,0),N=()=>{t(null),h([]),u(1)};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Tạo đơn h\xe0ng"}),r.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Tạo đơn h\xe0ng hộ kh\xe1ch h\xe0ng"})]}),r.jsx("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${p>=1?"bg-primary-500 text-white":"bg-slate-100 text-slate-400"}`,children:p>1?r.jsx(i.Z,{className:"w-5 h-5"}):"1"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:"Chọn kh\xe1ch h\xe0ng"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Kh\xe1ch cần đặt h\xe0ng"})]})]}),r.jsx("div",{className:"hidden sm:block w-12 h-0.5 bg-slate-200"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${p>=2?"bg-primary-500 text-white":"bg-slate-100 text-slate-400"}`,children:p>2?r.jsx(i.Z,{className:"w-5 h-5"}):"2"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:"Chọn sản phẩm"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Th\xeam v\xe0o đơn"})]})]}),r.jsx("div",{className:"hidden sm:block w-12 h-0.5 bg-slate-200"}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${p>=3&&s.length>0?"bg-primary-500 text-white":"bg-slate-100 text-slate-400"}`,children:"3"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-slate-900",children:"X\xe1c nhận"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Tạo đơn h\xe0ng"})]})]})]})}),1===p&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[r.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Chọn kh\xe1ch h\xe0ng"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.qe.map(e=>r.jsx("button",{onClick:()=>b(e.id),className:"p-4 border border-slate-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-all text-left group",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"p-2 bg-slate-100 group-hover:bg-primary-100 rounded-lg transition-colors",children:r.jsx(n.Z,{className:"w-5 h-5 text-slate-600 group-hover:text-primary-600"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-slate-900 mb-1 truncate",children:e.storeName}),(0,r.jsxs)("p",{className:"text-xs text-slate-500",children:[e.type," • ",e.area]})]})]})},e.id))})]}),p>=2&&e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-primary-50 border border-primary-200 p-4 rounded-lg flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-primary-700 font-medium",children:"Kh\xe1ch h\xe0ng đ\xe3 chọn:"}),r.jsx("p",{className:"text-lg font-semibold text-primary-900",children:e.storeName}),(0,r.jsxs)("p",{className:"text-xs text-primary-600 mt-1",children:[e.type," • ",e.area]})]}),r.jsx("button",{onClick:N,className:"px-4 py-2 bg-white text-primary-700 border border-primary-300 rounded-lg text-sm font-medium hover:bg-primary-100 transition-colors",children:"Đổi kh\xe1ch"})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[r.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Chọn sản phẩm"}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:l.ku.map(e=>{let t=s.find(t=>t.product.id===e.id),a={UHI:"bg-orange-500",BOYO:"bg-purple-500",CVT:"bg-blue-500",LYHU:"bg-primary-500"}[e.brand]||"bg-primary-500";return(0,r.jsxs)("div",{className:`p-4 border rounded-lg ${t?"border-primary-500 bg-primary-50":"border-slate-200"}`,children:[r.jsx("span",{className:`inline-block ${a} text-white text-xs font-semibold px-2 py-1 rounded mb-2`,children:e.brand}),r.jsx("h4",{className:"font-medium text-slate-900 text-sm mb-2 line-clamp-2 min-h-[2.5rem]",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-slate-500 mb-2",children:["SKU: ",e.sku]}),r.jsx("p",{className:"text-lg font-bold text-slate-900 mb-3",children:m(e.wholesalePrice)}),(0,r.jsxs)("button",{onClick:()=>g(e),className:`w-full py-2 rounded-lg font-medium text-sm flex items-center justify-center gap-2 transition-colors ${t?"bg-primary-600 text-white hover:bg-primary-700":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[r.jsx(d.Z,{className:"w-4 h-4"}),t?`Đ\xe3 th\xeam (${t.quantity})`:"Th\xeam v\xe0o đơn"]})]},e.id)})})]}),s.length>0&&(0,r.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[(0,r.jsxs)("h3",{className:"font-semibold text-slate-900 mb-4",children:["Đơn h\xe0ng (",s.length," sản phẩm)"]}),r.jsx("div",{className:"space-y-3 mb-6",children:s.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-slate-900 text-sm",children:e.product.name}),(0,r.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[m(e.product.wholesalePrice)," \xd7 ",e.quantity]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>j(e.product.id,-1),disabled:e.quantity<=1,className:"p-1.5 hover:bg-white rounded transition-colors disabled:opacity-50",children:r.jsx(c.Z,{className:"w-4 h-4"})}),r.jsx("span",{className:"w-8 text-center font-semibold",children:e.quantity}),r.jsx("button",{onClick:()=>j(e.product.id,1),className:"p-1.5 hover:bg-white rounded transition-colors",children:r.jsx(d.Z,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"text-right",children:r.jsx("p",{className:"font-semibold text-slate-900",children:m(e.product.wholesalePrice*e.quantity)})}),r.jsx("button",{onClick:()=>y(e.product.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:r.jsx(o.Z,{className:"w-4 h-4"})})]},e.product.id))}),(0,r.jsxs)("div",{className:"border-t border-slate-200 pt-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"text-lg font-semibold text-slate-900",children:"Tổng cộng:"}),r.jsx("span",{className:"text-2xl font-bold text-primary-600",children:m(f())})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:N,className:"flex-1 px-6 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-semibold transition-colors",children:"Hủy"}),(0,r.jsxs)("button",{onClick:()=>{console.log("Creating order:",{customer:e,items:s.map(e=>({productId:e.product.id,productName:e.product.name,sku:e.product.sku,quantity:e.quantity,price:e.product.wholesalePrice,total:e.product.wholesalePrice*e.quantity})),total:f(),createdAt:new Date().toISOString(),createdBy:"Sales Rep"}),alert("✅ Tạo đơn h\xe0ng th\xe0nh c\xf4ng!\n\nChi tiết đ\xe3 được ghi v\xe0o console."),t(null),h([]),u(1)},className:"flex-1 px-6 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg font-semibold transition-colors flex items-center justify-center gap-2",children:[r.jsx(x.Z,{className:"w-5 h-5"}),"Tạo đơn h\xe0ng"]})]})]})]})]})]})}},1933:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`G:\LYHU\Projects\LYHU-app\src\app\(dashboard)\sales\create-order\page.tsx`),{__esModule:a,$$typeof:l}=r,i=r.default},8193:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(5036),a=s(7903),l=s(212);function i({children:e}){return r.jsx(a.ZP,{role:l.K.SALES,title:"Sales Dashboard",children:e})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[327,68,49,951],()=>s(6951));module.exports=r})();